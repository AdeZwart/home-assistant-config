- id: set_tv_watching_ambiance
  alias: 'Set TV watching ambiance when Chromecast starts playing'
  trigger:
    - platform: state
      entity_id: media_player.blackcast
      to: playing
  action:
    - service: light.turn_on
      data: 
        entity_id: light.tv_meubel_links
        brightness_pct: 50
        color_temp: 370
    - service: light.turn_on
      data: 
        entity_id: light.tv_meubel_rechts
        brightness_pct: 50
        color_temp: 370
    - service: switch.turn_off
      entity_id: switch.shelly1_livingroom
  mode: single
      
- id: send_notification_when_the_front_door_opens
  alias: Send a notification when the front door opens
  trigger:
  - platform: state
    entity_id: binary_sensor.xiaomi_door_1_contact
    to: 'on'      
  action:
    service: notify.mobile_app_sgs10_andre
    data_template:
      message: 'Someone opened the frontdoor!'
  mode: single  

- id: front_door_camera_motion
  alias: 'Send frontdoor camera snapshot when motion is detected'
  trigger:
    platform: state
    entity_id: binary_sensor.mymotiondetectorrule_cell_motion_detection
    to: 'on'
  action:
    - service: camera.snapshot
      data:
        entity_id: camera.frontdoor_camera_1
        filename: /tmp/frontdoor_snapshot.jpg
    - service: notify.telegram_andre
      data: 
        title: "frontdoor snapshot"
        message: "frontdoor snapshot"
        data:
          photo:
            file: /tmp/frontdoor_snapshot.jpg
            caption: Motion detected!
    - delay: '00:01:00'
  mode: single       